

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>A Hierarchical model for Rugby prediction &mdash; pymc3 3.0 documentation</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  

  

  
    <link rel="top" title="pymc3 3.0 documentation" href="../../index.html"/> 

  
  <script src="../../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../../index.html" class="icon icon-home"> pymc3
          

          
          </a>

          
            
            
              <div class="version">
                3.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <ul>
<li class="toctree-l1"><a class="reference internal" href="../../examples.html">Examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../api.html">API Reference</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../../index.html">pymc3</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          

 



<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../../index.html">Docs</a> &raquo;</li>
      
    <li>A Hierarchical model for Rugby prediction</li>
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../../_sources/notebooks/.ipynb_checkpoints/rugby_analytics-checkpoint.txt" rel="nofollow"> View page source</a>
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  
<style>
/* CSS for nbsphinx extension */

/* remove conflicting styling from Sphinx themes */
div.nbinput,
div.nbinput > div,
div.nbinput div[class^=highlight],
div.nbinput div[class^=highlight] pre,
div.nboutput,
div.nboutput > div,
div.nboutput div[class^=highlight],
div.nboutput div[class^=highlight] pre {
    background: none;
    border: none;
    padding: 0 0;
    margin: 0;
    box-shadow: none;
}

/* avoid gaps between output lines */
div.nboutput div[class^=highlight] pre {
    line-height: normal;
}

/* input/output containers */
div.nbinput,
div.nboutput {
    display: -webkit-flex;
    display: flex;
    align-items: flex-start;
    margin: 0;
}

/* input container */
div.nbinput {
    padding-top: 5px;
}

/* last container */
div.nblast {
    padding-bottom: 5px;
}

/* input prompt */
div.nbinput > :first-child pre {
    color: #303F9F;
}

/* output prompt */
div.nboutput > :first-child pre {
    color: #D84315;
}

/* all prompts */
div.nbinput > :first-child[class^=highlight],
div.nboutput > :first-child[class^=highlight],
div.nboutput > :first-child {
    min-width: 11ex;
    padding-top: 0.4em;
    padding-right: 0.4em;
    text-align: right;
    flex: 0;
}

/* input/output area */
div.nbinput > :nth-child(2)[class^=highlight],
div.nboutput > :nth-child(2),
div.nboutput > :nth-child(2)[class^=highlight] {
    padding: 0.4em;
    -webkit-flex: 1;
    flex: 1;
    overflow: auto;
}

/* input area */
div.nbinput > :nth-child(2)[class^=highlight] {
    border: 1px solid #cfcfcf;
    border-radius: 2px;
    background: #f7f7f7;
}

/* override MathJax center alignment in output cells */
div.nboutput div[class*=MathJax] {
    text-align: left !important;
}

/* override sphinx.ext.pngmath center alignment in output cells */
div.nboutput div.math p {
    text-align: left;
}

/* standard error */
div.nboutput  > :nth-child(2).stderr {
    background: #fdd;
}

/* ANSI colors */
.ansi-black-fg { color: #3E424D; }
.ansi-black-bg { background-color: #3E424D; }
.ansi-black-intense-fg { color: #282C36; }
.ansi-black-intense-bg { background-color: #282C36; }
.ansi-red-fg { color: #E75C58; }
.ansi-red-bg { background-color: #E75C58; }
.ansi-red-intense-fg { color: #B22B31; }
.ansi-red-intense-bg { background-color: #B22B31; }
.ansi-green-fg { color: #00A250; }
.ansi-green-bg { background-color: #00A250; }
.ansi-green-intense-fg { color: #007427; }
.ansi-green-intense-bg { background-color: #007427; }
.ansi-yellow-fg { color: #DDB62B; }
.ansi-yellow-bg { background-color: #DDB62B; }
.ansi-yellow-intense-fg { color: #B27D12; }
.ansi-yellow-intense-bg { background-color: #B27D12; }
.ansi-blue-fg { color: #208FFB; }
.ansi-blue-bg { background-color: #208FFB; }
.ansi-blue-intense-fg { color: #0065CA; }
.ansi-blue-intense-bg { background-color: #0065CA; }
.ansi-magenta-fg { color: #D160C4; }
.ansi-magenta-bg { background-color: #D160C4; }
.ansi-magenta-intense-fg { color: #A03196; }
.ansi-magenta-intense-bg { background-color: #A03196; }
.ansi-cyan-fg { color: #60C6C8; }
.ansi-cyan-bg { background-color: #60C6C8; }
.ansi-cyan-intense-fg { color: #258F8F; }
.ansi-cyan-intense-bg { background-color: #258F8F; }
.ansi-white-fg { color: #C5C1B4; }
.ansi-white-bg { background-color: #C5C1B4; }
.ansi-white-intense-fg { color: #A1A6B2; }
.ansi-white-intense-bg { background-color: #A1A6B2; }

.ansi-bold { font-weight: bold; }

/* CSS overrides for sphinx_rtd_theme */

/* 24px margin */
.nbinput.nblast,
.nboutput.nblast {
    margin-bottom: 19px;  /* padding has already 5px */
}

/* ... except between code cells! */
.nblast + .nbinput {
    margin-top: -19px;
}

/* nice headers on first paragraph of info/warning boxes */
.admonition .first {
    margin: -12px;
    padding: 6px 12px;
    margin-bottom: 12px;
    color: #fff;
    line-height: 1;
    display: block;
}
.admonition.warning .first {
    background: #f0b37e;
}
.admonition.note .first {
    background: #6ab0de;
}
.admonition > p:before {
    margin-right: 4px;  /* make room for the exclamation icon */
}
</style>
<div class="section" id="A-Hierarchical-model-for-Rugby-prediction">
<h1>A Hierarchical model for Rugby prediction<a class="headerlink" href="#A-Hierarchical-model-for-Rugby-prediction" title="Permalink to this headline">¶</a></h1>
<ul class="simple">
<li>&#64;Author: Peadar Coyle</li>
<li>&#64;email: <a class="reference external" href="mailto:peadarcoyle&#37;&#52;&#48;googlemail&#46;com">peadarcoyle<span>&#64;</span>googlemail<span>&#46;</span>com</a></li>
<li>&#64;date: 31/12/15</li>
</ul>
<p>I came across the following blog post on
<a class="reference external" href="http://danielweitzenfeld.github.io/passtheroc/blog/2014/10/28/bayes-premier-league/">http://danielweitzenfeld.github.io/passtheroc/blog/2014/10/28/bayes-premier-league/</a>
* Based on the work of <a class="reference external" href="www.statistica.it/gianluca/Research/BaioBlangiardo.pdf">Baio and
Blangiardo</a>
In this example, we&#8217;re going to reproduce the first model described in
the paper using PyMC3.</p>
<p>Since I am a rugby fan I decide to apply the results of the paper
Bayesian Football to the Six Nations. Rugby is a physical sport popular
worldwide. * Six Nations consists of Italy, Ireland, Scotland, England,
France and Wales * Game consists of scoring tries (similar to touch
downs) or kicking the goal. * Average player is something like 100kg
and 1.82m tall. * Paul O&#8217;Connell the Irish captain is Height: 6&#8217; 6&#8221;
(1.98 m) Weight: 243 lbs (110 kg)</p>
<p>We will use a data set only consisting of the Six Nations 2014 data, and
use this to build a generative and explainable model about the Six
Nations 2015.</p>
<div class="section" id="Motivation">
<h2>Motivation<a class="headerlink" href="#Motivation" title="Permalink to this headline">¶</a></h2>
<p>Your estimate of the strength of a team depends on your estimates of the
other strengths</p>
<p>Ireland are a stronger team than Italy for example - but by how much?</p>
<p>Source for Results 2014 are Wikipedia. I handcrafted these results Small
data * We want to infer a latent parameter - that is the &#8216;strength&#8217; of
a team based only on their <strong>scoring intensity</strong>, and all we have are
their scores and results, we can&#8217;t accurately measure the &#8216;strength&#8217; of
a team. * Probabilistic Programming is a brilliant paradigm for
modeling these <strong>latent</strong> parameters</p>
<div class="nbinput container">
<div class="highlight-none"><div class="highlight"><pre>
<span></span>In [2]:
</pre></div>
</div>
<div class="highlight-ipython3"><div class="highlight"><pre>
<span></span>!date

import numpy as np
import pandas as pd
try:
    from StringIO import StringIO
except ImportError:
    from io import StringIO
%matplotlib inline
import pymc3 as pm, theano.tensor as tt
</pre></div>
</div>
</div>
<div class="nboutput nblast container">
<div class="container">
</div>
<div class="container">
<div class="highlight"><pre>
Sat Apr  2 16:40:04 BST 2016
</pre></div></div>
</div>
<p>This is a Rugby prediction exercise. So we&#8217;ll input some data</p>
<div class="nbinput nblast container">
<div class="highlight-none"><div class="highlight"><pre>
<span></span>In [3]:
</pre></div>
</div>
<div class="highlight-ipython3"><div class="highlight"><pre>
<span></span>data_csv = StringIO(&quot;&quot;&quot;home_team,away_team,home_score,away_score
Wales,Italy,23,15
France,England,26,24
Ireland,Scotland,28,6
Ireland,Wales,26,3
Scotland,England,0,20
France,Italy,30,10
Wales,France,27,6
Italy,Scotland,20,21
England,Ireland,13,10
Ireland,Italy,46,7
Scotland,France,17,19
England,Wales,29,18
Italy,England,11,52
Wales,Scotland,51,3
France,Ireland,20,22&quot;&quot;&quot;)
</pre></div>
</div>
</div>
</div>
<div class="section" id="What-do-we-want-to-infer?">
<h2>What do we want to infer?<a class="headerlink" href="#What-do-we-want-to-infer?" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>We want to infer the latent paremeters (every team&#8217;s strength) that
are generating the data we observe (the scorelines).</li>
<li>Moreover, we know that the scorelines are a noisy measurement of team
strength, so ideally, we want a model that makes it easy to quantify
our uncertainty about the underlying strengths.</li>
<li>Often we don&#8217;t know what the Bayesian Model is explicitly, so we have
to &#8216;estimate&#8217; the Bayesian Model&#8217;</li>
<li>If we can&#8217;t solve something, approximate it.</li>
<li>Markov-Chain Monte Carlo (MCMC) instead draws samples from the
posterior.</li>
<li>Fortunately, this algorithm can be applied to almost any model.</li>
</ul>
</div>
<div class="section" id="What-do-we-want?">
<h2>What do we want?<a class="headerlink" href="#What-do-we-want?" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>We want to quantify our uncertainty</li>
<li>We want to also use this to generate a model</li>
<li>We want the answers as distributions not point estimates</li>
</ul>
</div>
<div class="section" id="What-assumptions-do-we-know-for-our-'generative-story'?">
<h2>What assumptions do we know for our &#8216;generative story&#8217;?<a class="headerlink" href="#What-assumptions-do-we-know-for-our-'generative-story'?" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>We know that the Six Nations in Rugby only has 6 teams - they each
play each other once</li>
<li>We have data from last year!</li>
<li>We also know that in sports scoring is modelled as a Poisson
distribution</li>
<li>We consider home advantage to be a strong effect in sports</li>
</ul>
</div>
<div class="section" id="The-model.">
<h2>The model.<a class="headerlink" href="#The-model." title="Permalink to this headline">¶</a></h2>
<p>The league is made up by a total of T= 6 teams, playing each other once
in a season. We indicate the number of points scored by the home and the
away team in the g-th game of the season (15 games) as <span class="math">\(y_{g1}\)</span>
and <span class="math">\(y_{g2}\)</span> respectively.</p>
</p><p>The vector of observed counts <span class="math">\(\mathbb{y} = (y_{g1}, y_{g2})\)</span> is
modelled as independent Poisson:
<span class="math">\(y_{gi}| \theta_{gj} \tilde\;\; Poisson(\theta_{gj})\)</span> where the
theta parameters represent the scoring intensity in the g-th game for
the team playing at home (j=1) and away (j=2), respectively.</p>
</p><p>We model these parameters according to a formulation that has been used
widely in the statistical literature, assuming a log-linear random
effect model:</p>
<div class="math">
\[log \theta_{g1} = home + att_{h(g)} + def_{a(g)}\]</div>
<div class="math">
\[log \theta_{g2} = att_{a(g)} + def_{h(g)}\]</div>
<ul class="simple">
<li>The parameter home represents the advantage for the team hosting the
game and we assume that this effect is constant for all the teams and
throughout the season</li>
<li>The scoring intensity is determined jointly by the attack and defense
ability of the two teams involved, represented by the parameters att
and def, respectively</li>
<li>Conversely, for each t = 1, ..., T, the team-specific effects are
modelled as exchangeable from a common distribution:</li>
<li><span class="math">\(att_{t} \; \tilde\;\; Normal(\mu_{att},\tau_{att})\)</span> and
<span class="math">\(def_{t} \; \tilde\;\;Normal(\mu_{def},\tau_{def})\)</span></li>
</ul>
<div class="nbinput nblast container">
<div class="highlight-none"><div class="highlight"><pre>
<span></span>In [4]:
</pre></div>
</div>
<div class="highlight-ipython3"><div class="highlight"><pre>
<span></span>df = pd.read_csv(data_csv)

teams = df.home_team.unique()
teams = pd.DataFrame(teams, columns=[&#39;team&#39;])
teams[&#39;i&#39;] = teams.index

df = pd.merge(df, teams, left_on=&#39;home_team&#39;, right_on=&#39;team&#39;, how=&#39;left&#39;)
df = df.rename(columns = {&#39;i&#39;: &#39;i_home&#39;}).drop(&#39;team&#39;, 1)
df = pd.merge(df, teams, left_on=&#39;away_team&#39;, right_on=&#39;team&#39;, how=&#39;left&#39;)
df = df.rename(columns = {&#39;i&#39;: &#39;i_away&#39;}).drop(&#39;team&#39;, 1)

observed_home_goals = df.home_score.values
observed_away_goals = df.away_score.values

home_team = df.i_home.values
away_team = df.i_away.values

num_teams = len(df.i_home.drop_duplicates())
num_games = len(home_team)

g = df.groupby(&#39;i_away&#39;)
att_starting_points = np.log(g.away_score.mean())
g = df.groupby(&#39;i_home&#39;)
def_starting_points = -np.log(g.away_score.mean())
</pre></div>
</div>
</div>
<ul class="simple">
<li>We did some munging above and adjustments of the data to make it
<strong>tidier</strong> for our model.</li>
<li>The log function to away scores and home scores is a standard trick
in the sports analytics literature</li>
</ul>
</div>
<div class="section" id="Building-of-the-model">
<h2>Building of the model<a class="headerlink" href="#Building-of-the-model" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>We now build the model in PyMC3, specifying the global parameters,
and the team-specific parameters and the likelihood function</li>
</ul>
<div class="nbinput container">
<div class="highlight-none"><div class="highlight"><pre>
<span></span>In [5]:
</pre></div>
</div>
<div class="highlight-ipython3"><div class="highlight"><pre>
<span></span>model = pm.Model()
with pm.Model() as model:
    # global model parameters
    home        = pm.Normal(&#39;home&#39;,      0, .0001)
    tau_att     = pm.Gamma(&#39;tau_att&#39;,   .1, .1)
    tau_def     = pm.Gamma(&#39;tau_def&#39;,   .1, .1)
    intercept   = pm.Normal(&#39;intercept&#39;, 0, .0001)

    # team-specific model parameters
    atts_star   = pm.Normal(&quot;atts_star&quot;,
                           mu   =0,
                           tau  =tau_att,
                           shape=num_teams)
    defs_star   = pm.Normal(&quot;defs_star&quot;,
                           mu   =0,
                           tau  =tau_def,
                           shape=num_teams)

    atts        = pm.Deterministic(&#39;atts&#39;, atts_star - tt.mean(atts_star))
    defs        = pm.Deterministic(&#39;defs&#39;, defs_star - tt.mean(defs_star))
    home_theta  = tt.exp(intercept + home + atts[home_team] + defs[away_team])
    away_theta  = tt.exp(intercept + atts[away_team] + defs[home_team])

    # likelihood of observed data
    home_points = pm.Poisson(&#39;home_points&#39;, mu=home_theta, observed=observed_home_goals)
    away_points = pm.Poisson(&#39;away_points&#39;, mu=away_theta, observed=observed_away_goals)
</pre></div>
</div>
</div>
<div class="nboutput nblast container">
<div class="container">
</div>
<div class="container">
<div class="highlight"><pre>
Applied log-transform to tau_att and added transformed tau_att_log to model.
Applied log-transform to tau_def and added transformed tau_def_log to model.
</pre></div></div>
</div>
<ul class="simple">
<li>We specified the model and the likelihood function</li>
<li>All this runs on a Theano graph under the hood</li>
<li>Now we need to fit our model using the Maximum A Posteriori algorithm
to decide where to start out No U Turn Sampler</li>
</ul>
<div class="nbinput container">
<div class="highlight-none"><div class="highlight"><pre>
<span></span>In [7]:
</pre></div>
</div>
<div class="highlight-ipython3"><div class="highlight"><pre>
<span></span>with model:

    start = pm.find_MAP()
    step = pm.NUTS(state=start)
    trace = pm.sample(2000, step, start=start)

    pm.traceplot(trace)
</pre></div>
</div>
</div>
<div class="nboutput container">
<div class="container">
</div>
<div class="container">
<div class="highlight"><pre>
 [-----------------100%-----------------] 2000 of 2000 complete in 5.3 sec
</pre></div></div>
</div>
<div class="nboutput nblast container">
<div class="container">
</div>
<div class="container">
<img alt="notebooks/.ipynb_checkpoints/../../_build/.doctrees/nbsphinx/notebooks_.ipynb_checkpoints_rugby_analytics-checkpoint_15_1.png" src="notebooks/.ipynb_checkpoints/../../_build/.doctrees/nbsphinx/notebooks_.ipynb_checkpoints_rugby_analytics-checkpoint_15_1.png" />
</div>
</div>
</div>
<div class="section" id="Results">
<h2>Results<a class="headerlink" href="#Results" title="Permalink to this headline">¶</a></h2>
<p>From the above we can start to understand the different distributions of
attacking strength and defensive strength. These are probabilistic
estimates and help us better understand the uncertainty in sports
analytics</p>
<div class="nbinput container">
<div class="highlight-none"><div class="highlight"><pre>
<span></span>In [8]:
</pre></div>
</div>
<div class="highlight-ipython3"><div class="highlight"><pre>
<span></span>pm.forestplot(trace, varnames=[&#39;atts&#39;], ylabels=[&#39;France&#39;, &#39;Ireland&#39;, &#39;Scotland&#39;, &#39;Italy&#39;, &#39;England&#39;, &#39;Wales&#39;], main=&quot;Team Offense&quot;)
</pre></div>
</div>
</div>
<div class="nboutput container">
<div class="highlight-none"><div class="highlight"><pre>
<span></span>Out[8]:
</pre></div>
</div>
<div class="highlight-none"><div class="highlight"><pre>
<span></span>&lt;matplotlib.gridspec.GridSpec at 0x1205adc50&gt;
</pre></div>
</div>
</div>
<div class="nboutput nblast container">
<div class="container">
</div>
<div class="container">
<img alt="notebooks/.ipynb_checkpoints/../../_build/.doctrees/nbsphinx/notebooks_.ipynb_checkpoints_rugby_analytics-checkpoint_17_1.png" src="notebooks/.ipynb_checkpoints/../../_build/.doctrees/nbsphinx/notebooks_.ipynb_checkpoints_rugby_analytics-checkpoint_17_1.png" />
</div>
</div>
<div class="nbinput container">
<div class="highlight-none"><div class="highlight"><pre>
<span></span>In [9]:
</pre></div>
</div>
<div class="highlight-ipython3"><div class="highlight"><pre>
<span></span>pm.forestplot(trace, varnames=[&#39;defs&#39;], ylabels=[&#39;France&#39;, &#39;Ireland&#39;, &#39;Scotland&#39;, &#39;Italy&#39;, &#39;England&#39;, &#39;Wales&#39;], main=&quot;Team Defense&quot;)
</pre></div>
</div>
</div>
<div class="nboutput container">
<div class="highlight-none"><div class="highlight"><pre>
<span></span>Out[9]:
</pre></div>
</div>
<div class="highlight-none"><div class="highlight"><pre>
<span></span>&lt;matplotlib.gridspec.GridSpec at 0x125972438&gt;
</pre></div>
</div>
</div>
<div class="nboutput nblast container">
<div class="container">
</div>
<div class="container">
<img alt="notebooks/.ipynb_checkpoints/../../_build/.doctrees/nbsphinx/notebooks_.ipynb_checkpoints_rugby_analytics-checkpoint_18_1.png" src="notebooks/.ipynb_checkpoints/../../_build/.doctrees/nbsphinx/notebooks_.ipynb_checkpoints_rugby_analytics-checkpoint_18_1.png" />
</div>
</div>
</div>
<div class="section" id="Covariates">
<h2>Covariates<a class="headerlink" href="#Covariates" title="Permalink to this headline">¶</a></h2>
<p>We should do some exploration of the variables.</p>
<div class="nbinput nblast container">
<div class="highlight-none"><div class="highlight"><pre>
<span></span>In [10]:
</pre></div>
</div>
<div class="highlight-ipython3"><div class="highlight"><pre>
<span></span>df_trace = pm.trace_to_dataframe(trace[:1000])


</pre></div>
</div>
</div>
<div class="nbinput container">
<div class="highlight-none"><div class="highlight"><pre>
<span></span>In [11]:
</pre></div>
</div>
<div class="highlight-ipython3"><div class="highlight"><pre>
<span></span>import seaborn as sns
df_trace_att = df_trace[[&#39;atts_star__0&#39;,&#39;atts_star__1&#39;,
 &#39;atts_star__2&#39;,
 &#39;atts_star__3&#39;,
 &#39;atts_star__4&#39;,
 &#39;atts_star__5&#39;]]
df_trace_att.rename(columns={&#39;atts_star__0&#39;:&#39;atts_star_france&#39;,&#39;atts_star__1&#39;:&#39;atts_star_ireland&#39;,
 &#39;atts_star__2&#39;:&#39;atts_star_scotland&#39;,
 &#39;atts_star__3&#39;:&#39;atts_star_italy&#39;,
 &#39;atts_star__4&#39;:&#39;atts_star_england&#39;,
 &#39;atts_star__5&#39;:&#39;atts_star_wales&#39;}, inplace=True)
_ = sns.pairplot(df_trace_att)
</pre></div>
</div>
</div>
<div class="nboutput container">
<div class="container">
</div>
<div class="stderr container">
<div class="highlight"><pre>
/Users/peadarcoyle/anaconda/envs/pymc3_examples/lib/python3.5/site-packages/pandas/core/frame.py:2697: SettingWithCopyWarning:
A value is trying to be set on a copy of a slice from a DataFrame

See the caveats in the documentation: http://pandas.pydata.org/pandas-docs/stable/indexing.html#indexing-view-versus-copy
  **kwargs)
</pre></div></div>
</div>
<div class="nboutput nblast container">
<div class="container">
</div>
<div class="container">
<img alt="notebooks/.ipynb_checkpoints/../../_build/.doctrees/nbsphinx/notebooks_.ipynb_checkpoints_rugby_analytics-checkpoint_21_1.png" src="notebooks/.ipynb_checkpoints/../../_build/.doctrees/nbsphinx/notebooks_.ipynb_checkpoints_rugby_analytics-checkpoint_21_1.png" />
</div>
</div>
<p>We observe that there isn&#8217;t a lot of correlation between these
covariates, other than the weaker teams like Italy have a more negative
distribution of these variables. Nevertheless this is a good method to
get some insight into how the variables are behaving.</p>
</div>
</div>


           </div>
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2015, John Salvatier and Christopher Fonnesbeck.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../../',
            VERSION:'3.0',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="../../_static/jquery.js"></script>
      <script type="text/javascript" src="../../_static/underscore.js"></script>
      <script type="text/javascript" src="../../_static/doctools.js"></script>
      <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  
  
    <script type="text/javascript" src="../../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>