

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Model &mdash; PyMC3 3.0 documentation</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  

  

  
    <link rel="top" title="PyMC3 3.0 documentation" href="../index.html"/> 

  
  <script src="../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../index.html" class="icon icon-home"> PyMC3
          

          
          </a>

          
            
            
              <div class="version">
                3.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <ul>
<li class="toctree-l1"><a class="reference internal" href="../getting_started.html">Getting started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../examples.html">Examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api.html">API Reference</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../index.html">PyMC3</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          

 



<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../index.html">Docs</a> &raquo;</li>
      
    <li>Model</li>
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../_sources/notebooks/tutorial.txt" rel="nofollow"> View page source</a>
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  
<style>
/* CSS for nbsphinx extension */

/* remove conflicting styling from Sphinx themes */
div.nbinput,
div.nbinput > div,
div.nbinput div[class^=highlight],
div.nbinput div[class^=highlight] pre,
div.nboutput,
div.nboutput > div,
div.nboutput div[class^=highlight],
div.nboutput div[class^=highlight] pre {
    background: none;
    border: none;
    padding: 0 0;
    margin: 0;
    box-shadow: none;
}

/* avoid gaps between output lines */
div.nboutput div[class^=highlight] pre {
    line-height: normal;
}

/* input/output containers */
div.nbinput,
div.nboutput {
    display: -webkit-flex;
    display: flex;
    align-items: flex-start;
    margin: 0;
}

/* input container */
div.nbinput {
    padding-top: 5px;
}

/* last container */
div.nblast {
    padding-bottom: 5px;
}

/* input prompt */
div.nbinput > :first-child pre {
    color: #303F9F;
}

/* output prompt */
div.nboutput > :first-child pre {
    color: #D84315;
}

/* all prompts */
div.nbinput > :first-child[class^=highlight],
div.nboutput > :first-child[class^=highlight],
div.nboutput > :first-child {
    min-width: 11ex;
    padding-top: 0.4em;
    padding-right: 0.4em;
    text-align: right;
    flex: 0;
}

/* input/output area */
div.nbinput > :nth-child(2)[class^=highlight],
div.nboutput > :nth-child(2),
div.nboutput > :nth-child(2)[class^=highlight] {
    padding: 0.4em;
    -webkit-flex: 1;
    flex: 1;
    overflow: auto;
}

/* input area */
div.nbinput > :nth-child(2)[class^=highlight] {
    border: 1px solid #cfcfcf;
    border-radius: 2px;
    background: #f7f7f7;
}

/* override MathJax center alignment in output cells */
div.nboutput div[class*=MathJax] {
    text-align: left !important;
}

/* override sphinx.ext.pngmath center alignment in output cells */
div.nboutput div.math p {
    text-align: left;
}

/* standard error */
div.nboutput  > :nth-child(2).stderr {
    background: #fdd;
}

/* ANSI colors */
.ansi-black-fg { color: #3E424D; }
.ansi-black-bg { background-color: #3E424D; }
.ansi-black-intense-fg { color: #282C36; }
.ansi-black-intense-bg { background-color: #282C36; }
.ansi-red-fg { color: #E75C58; }
.ansi-red-bg { background-color: #E75C58; }
.ansi-red-intense-fg { color: #B22B31; }
.ansi-red-intense-bg { background-color: #B22B31; }
.ansi-green-fg { color: #00A250; }
.ansi-green-bg { background-color: #00A250; }
.ansi-green-intense-fg { color: #007427; }
.ansi-green-intense-bg { background-color: #007427; }
.ansi-yellow-fg { color: #DDB62B; }
.ansi-yellow-bg { background-color: #DDB62B; }
.ansi-yellow-intense-fg { color: #B27D12; }
.ansi-yellow-intense-bg { background-color: #B27D12; }
.ansi-blue-fg { color: #208FFB; }
.ansi-blue-bg { background-color: #208FFB; }
.ansi-blue-intense-fg { color: #0065CA; }
.ansi-blue-intense-bg { background-color: #0065CA; }
.ansi-magenta-fg { color: #D160C4; }
.ansi-magenta-bg { background-color: #D160C4; }
.ansi-magenta-intense-fg { color: #A03196; }
.ansi-magenta-intense-bg { background-color: #A03196; }
.ansi-cyan-fg { color: #60C6C8; }
.ansi-cyan-bg { background-color: #60C6C8; }
.ansi-cyan-intense-fg { color: #258F8F; }
.ansi-cyan-intense-bg { background-color: #258F8F; }
.ansi-white-fg { color: #C5C1B4; }
.ansi-white-bg { background-color: #C5C1B4; }
.ansi-white-intense-fg { color: #A1A6B2; }
.ansi-white-intense-bg { background-color: #A1A6B2; }

.ansi-bold { font-weight: bold; }

/* CSS overrides for sphinx_rtd_theme */

/* 24px margin */
.nbinput.nblast,
.nboutput.nblast {
    margin-bottom: 19px;  /* padding has already 5px */
}

/* ... except between code cells! */
.nblast + .nbinput {
    margin-top: -19px;
}

/* nice headers on first paragraph of info/warning boxes */
.admonition .first {
    margin: -12px;
    padding: 6px 12px;
    margin-bottom: 12px;
    color: #fff;
    line-height: 1;
    display: block;
}
.admonition.warning .first {
    background: #f0b37e;
}
.admonition.note .first {
    background: #6ab0de;
}
.admonition > p:before {
    margin-right: 4px;  /* make room for the exclamation icon */
}
</style>
<div class="nbinput nblast container">
<div class="highlight-none"><div class="highlight"><pre>
<span></span>In [2]:
</pre></div>
</div>
<div class="highlight-ipython3"><div class="highlight"><pre>
<span></span><span class="o">%</span><span class="k">matplotlib</span> inline
<span class="kn">import</span> <span class="nn">pymc3</span> <span class="kn">as</span> <span class="nn">pm</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="kn">as</span> <span class="nn">np</span>
</pre></div>
</div>
</div>
<div class="section" id="Model">
<h1>Model<a class="headerlink" href="#Model" title="Permalink to this headline">Â¶</a></h1>
<p>Consider the following true generative model:</p>
<div class="math">
\[x_{true} \sim \textrm{Normal}(2,1)\]</div>
<div class="math">
\[y_{true} \sim \textrm{Normal}(\textrm{exp}(x_{true}),1)\]</div>
<div class="math">
\[z_{data} \sim \textrm{Normal}(x_{true} + y_{true},0.75)\]</div>
<p>Where <span class="math">\(x_{true}\)</span> is a scalar, <span class="math">\(y_{true}\)</span> is a vector of
length 2, and <span class="math">\(z_{data}\)</span> is a <span class="math">\(2\times 20\)</span> matrix.</p>
<p>We can simulate this using Numpy:</p>
<div class="nbinput nblast container">
<div class="highlight-none"><div class="highlight"><pre>
<span></span>In [3]:
</pre></div>
</div>
<div class="highlight-ipython3"><div class="highlight"><pre>
<span></span><span class="n">ndims</span> <span class="o">=</span> <span class="mi">2</span>
<span class="n">nobs</span> <span class="o">=</span> <span class="mi">20</span>

<span class="n">xtrue</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">normal</span><span class="p">(</span><span class="n">scale</span><span class="o">=</span><span class="mf">2.</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="n">ytrue</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">normal</span><span class="p">(</span><span class="n">loc</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">exp</span><span class="p">(</span><span class="n">xtrue</span><span class="p">),</span> <span class="n">scale</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="p">(</span><span class="n">ndims</span><span class="p">,</span> <span class="mi">1</span><span class="p">))</span>
<span class="n">zdata</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">normal</span><span class="p">(</span><span class="n">loc</span><span class="o">=</span><span class="n">xtrue</span> <span class="o">+</span> <span class="n">ytrue</span><span class="p">,</span> <span class="n">scale</span><span class="o">=.</span><span class="mi">75</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="p">(</span><span class="n">ndims</span><span class="p">,</span> <span class="n">nobs</span><span class="p">))</span>
</pre></div>
</div>
</div>
<p><code class="docutils literal"><span class="pre">zdata</span></code> is observed but <code class="docutils literal"><span class="pre">xtrue</span></code> and <code class="docutils literal"><span class="pre">ytrue</span></code> are not. Thus x and y
are unknown, and we want to come up with posterior distributions for
them.</p>
</div>
<div class="section" id="Build-Model">
<h1>Build Model<a class="headerlink" href="#Build-Model" title="Permalink to this headline">Â¶</a></h1>
<p>Now we want to do inference assuming the following model:</p>
<div class="math">
\[x \sim \textrm{Normal}(0,1)\]</div>
<div class="math">
\[y \sim \textrm{Normal}(\textrm{exp}(x),2)\]</div>
<div class="math">
\[z \sim \textrm{Normal}(x + y,0.75)\]</div>
<p>The aim here is to get posteriors over <span class="math">\(x\)</span> and <span class="math">\(y\)</span> given the
data we have about <span class="math">\(z\)</span> (<code class="docutils literal"><span class="pre">zdata</span></code>).</p>
<p>We create a new <code class="docutils literal"><span class="pre">Model</span></code> objects, and do operations within its context.
The <code class="docutils literal"><span class="pre">with</span></code> lets PyMC know this model is the current model of interest.</p>
<p>We construct new random variables with the constructor for its prior
distribution such as <code class="docutils literal"><span class="pre">Normal</span></code> while within a model context (inside the
<code class="docutils literal"><span class="pre">with</span></code>). When you make a random variable it is automatically added to
the model. The constructor returns a Theano variable.</p>
<p>Using the constructor may specify the name of the random variable, the
parameters of a random variable&#8217;s prior distribution, as well as the
shape of the random variable. We can specify that a random variable is
observed by specifying the data that was observed.</p>
<div class="nbinput nblast container">
<div class="highlight-none"><div class="highlight"><pre>
<span></span>In [4]:
</pre></div>
</div>
<div class="highlight-ipython3"><div class="highlight"><pre>
<span></span><span class="k">with</span> <span class="n">pm</span><span class="o">.</span><span class="n">Model</span><span class="p">()</span> <span class="k">as</span> <span class="n">model</span><span class="p">:</span>
    <span class="n">x</span> <span class="o">=</span> <span class="n">pm</span><span class="o">.</span><span class="n">Normal</span><span class="p">(</span><span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="n">mu</span><span class="o">=</span><span class="mf">0.</span><span class="p">,</span> <span class="n">sd</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">y</span> <span class="o">=</span> <span class="n">pm</span><span class="o">.</span><span class="n">Normal</span><span class="p">(</span><span class="s1">&#39;y&#39;</span><span class="p">,</span> <span class="n">mu</span><span class="o">=</span><span class="n">pm</span><span class="o">.</span><span class="n">exp</span><span class="p">(</span><span class="n">x</span><span class="p">),</span> <span class="n">sd</span><span class="o">=</span><span class="mf">2.</span><span class="p">,</span> <span class="n">shape</span><span class="o">=</span><span class="p">(</span><span class="n">ndims</span><span class="p">,</span> <span class="mi">1</span><span class="p">))</span> <span class="c1"># here, shape is telling us it&#39;s a vector rather than a scalar.</span>
    <span class="n">z</span> <span class="o">=</span> <span class="n">pm</span><span class="o">.</span><span class="n">Normal</span><span class="p">(</span><span class="s1">&#39;z&#39;</span><span class="p">,</span> <span class="n">mu</span><span class="o">=</span><span class="n">x</span> <span class="o">+</span> <span class="n">y</span><span class="p">,</span> <span class="n">sd</span><span class="o">=.</span><span class="mi">75</span><span class="p">,</span> <span class="n">observed</span><span class="o">=</span><span class="n">zdata</span><span class="p">)</span> <span class="c1"># shape is inferred from zdata</span>
</pre></div>
</div>
</div>
<p>A parenthetical note on the parameters for the normal. Variance is
encoded as <code class="docutils literal"><span class="pre">tau</span></code>, indicating precision, which is simply inverse
variance (so <span class="math">\(\tau=\sigma^{-2}\)</span> ). This is used because the gamma
function is the conjugate prior for precision, and must be inverted to
get variance. Encoding in terms of precision saves the inversion step in
cases where variance is actually modeled using gamma as a prior.</p>
</div>
<div class="section" id="Fit-Model">
<h1>Fit Model<a class="headerlink" href="#Fit-Model" title="Permalink to this headline">Â¶</a></h1>
<p>We need a starting point for our sampling. The <code class="docutils literal"><span class="pre">find_MAP</span></code> function
finds the maximum a posteriori point (MAP), which is often a good choice
for starting point. <code class="docutils literal"><span class="pre">find_MAP</span></code> uses an optimization algorithm
(<code class="docutils literal"><span class="pre">scipy.optimize.fmin_l_bfgs_b</span></code>, or
<a class="reference external" href="http://en.wikipedia.org/wiki/BFGS_method">BFGS</a>, by default) to find
the local maximum of the log posterior.</p>
<p>Note that this <code class="docutils literal"><span class="pre">with</span></code> construction is used again. Functions like
<code class="docutils literal"><span class="pre">find_MAP</span></code> and <code class="docutils literal"><span class="pre">HamiltonianMC</span></code> need to have a model in their
context. <code class="docutils literal"><span class="pre">with</span></code> activates the context of a particular model within its
block.</p>
<div class="nbinput nblast container">
<div class="highlight-none"><div class="highlight"><pre>
<span></span>In [5]:
</pre></div>
</div>
<div class="highlight-ipython3"><div class="highlight"><pre>
<span></span><span class="k">with</span> <span class="n">model</span><span class="p">:</span>
    <span class="n">start</span> <span class="o">=</span> <span class="n">pm</span><span class="o">.</span><span class="n">find_MAP</span><span class="p">()</span>
</pre></div>
</div>
</div>
<p>Points in parameter space are represented by dictionaries with parameter
names as they keys and the value of the parameters as the values.</p>
<div class="nbinput container">
<div class="highlight-none"><div class="highlight"><pre>
<span></span>In [6]:
</pre></div>
</div>
<div class="highlight-ipython3"><div class="highlight"><pre>
<span></span><span class="k">print</span><span class="p">(</span><span class="s2">&quot;MAP found:&quot;</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="s2">&quot;x:&quot;</span><span class="p">,</span> <span class="n">start</span><span class="p">[</span><span class="s1">&#39;x&#39;</span><span class="p">])</span>
<span class="k">print</span><span class="p">(</span><span class="s2">&quot;y:&quot;</span><span class="p">,</span> <span class="n">start</span><span class="p">[</span><span class="s1">&#39;y&#39;</span><span class="p">])</span>

<span class="k">print</span><span class="p">(</span><span class="s2">&quot;Compare with true values:&quot;</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="s2">&quot;ytrue&quot;</span><span class="p">,</span> <span class="n">ytrue</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="s2">&quot;xtrue&quot;</span><span class="p">,</span> <span class="n">xtrue</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast container">
<div class="container">
</div>
<div class="container">
<div class="highlight"><pre>
MAP found:
(&#39;x:&#39;, array(0.0168254102897249))
(&#39;y:&#39;, array([[ 0.05477064],
       [ 2.01253261]]))
Compare with true values:
(&#39;ytrue&#39;, array([[ 0.64815904],
       [ 2.52039628]]))
(&#39;xtrue&#39;, array([-0.60377919]))
</pre></div></div>
</div>
<p>We will use NUTS to sample from the posterior as implemented by the
<code class="docutils literal"><span class="pre">NUTS</span></code> step method class.</p>
<div class="nbinput container">
<div class="highlight-none"><div class="highlight"><pre>
<span></span>In [7]:
</pre></div>
</div>
<div class="highlight-ipython3"><div class="highlight"><pre>
<span></span><span class="k">with</span> <span class="n">model</span><span class="p">:</span>
    <span class="n">step</span> <span class="o">=</span> <span class="n">pm</span><span class="o">.</span><span class="n">NUTS</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast container">
<div class="container">
</div>
<div class="stderr container">
<div class="highlight"><pre>
/Library/Python/2.7/site-packages/theano/scan_module/scan_perform_ext.py:85: RuntimeWarning: numpy.ndarray size changed, may indicate binary incompatibility
  from scan_perform.scan_perform import *
</pre></div></div>
</div>
<p>The <code class="docutils literal"><span class="pre">sample</span></code> function takes a number of steps to sample, a step
method, a starting point. It returns a trace object which contains our
samples.</p>
<div class="nbinput container">
<div class="highlight-none"><div class="highlight"><pre>
<span></span>In [8]:
</pre></div>
</div>
<div class="highlight-ipython3"><div class="highlight"><pre>
<span></span><span class="k">with</span> <span class="n">model</span><span class="p">:</span>
    <span class="n">trace</span> <span class="o">=</span> <span class="n">pm</span><span class="o">.</span><span class="n">sample</span><span class="p">(</span><span class="mi">3000</span><span class="p">,</span> <span class="n">step</span><span class="p">,</span> <span class="n">start</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast container">
<div class="container">
</div>
<div class="container">
<div class="highlight"><pre>
 [-----------------100%-----------------] 3000 of 3000 complete in 7.8 sec
</pre></div></div>
</div>
<p>To use more than one sampler, pass a list of step methods to <code class="docutils literal"><span class="pre">sample</span></code>.</p>
<p>The trace object can be indexed by the variables in the model, returning
an array with the first index being the sample index and the other
indexes the shape of the parameter. Thus for this example:</p>
<div class="nbinput container">
<div class="highlight-none"><div class="highlight"><pre>
<span></span>In [9]:
</pre></div>
</div>
<div class="highlight-ipython3"><div class="highlight"><pre>
<span></span><span class="n">trace</span><span class="p">[</span><span class="n">y</span><span class="p">]</span><span class="o">.</span><span class="n">shape</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast container">
<div class="highlight-none"><div class="highlight"><pre>
<span></span>Out[9]:
</pre></div>
</div>
<div class="highlight-none"><div class="highlight"><pre>
<span></span>(3000, 2, 1)
</pre></div>
</div>
</div>
<div class="nbinput container">
<div class="highlight-none"><div class="highlight"><pre>
<span></span>In [10]:
</pre></div>
</div>
<div class="highlight-ipython3"><div class="highlight"><pre>
<span></span><span class="n">pm</span><span class="o">.</span><span class="n">traceplot</span><span class="p">(</span><span class="n">trace</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast container">
<div class="container">
</div>
<div class="container">
<img alt="notebooks/../_build/doctrees/nbsphinx/notebooks_tutorial_15_0.png" src="notebooks/../_build/doctrees/nbsphinx/notebooks_tutorial_15_0.png" />
</div>
</div>
</div>
<div class="section" id="PyMC-Internals">
<h1>PyMC Internals<a class="headerlink" href="#PyMC-Internals" title="Permalink to this headline">Â¶</a></h1>
<div class="section" id="Model">
<h2>Model<a class="headerlink" href="#Model" title="Permalink to this headline">Â¶</a></h2>
<p>The <code class="docutils literal"><span class="pre">Model</span></code> class has very simple internals: just a list of unobserved
variables (<code class="docutils literal"><span class="pre">Model.vars</span></code>) and a list of factors which go into computing
the posterior density (<code class="docutils literal"><span class="pre">Model.factors</span></code>) (see model.py for more).</p>
<p>A Python &#8220;<code class="docutils literal"><span class="pre">with</span> <span class="pre">model:</span></code>&#8221; block has <code class="docutils literal"><span class="pre">model</span></code> as the current model.
Many functions, like <code class="docutils literal"><span class="pre">find_MAP</span></code> and <code class="docutils literal"><span class="pre">sample</span></code>, must be in such a
block to work correctly by default. They look in the current context for
a model to use. You may also explicitly specify the model for them to
use. This allows us to treat the current model as an implicit parameter
to these functions.</p>
</div>
<div class="section" id="Distribution-Classes">
<h2>Distribution Classes<a class="headerlink" href="#Distribution-Classes" title="Permalink to this headline">Â¶</a></h2>
<p><code class="docutils literal"><span class="pre">Normal</span></code> and other distributions are actually <code class="docutils literal"><span class="pre">Distribution</span></code>
subclasses. The constructors have different behavior depending on
whether they are called with a name argument or not (string argument in
1st slot). This allows PyMC to have intuitive model specification syntax
and still distinguish between random variables and distributions.</p>
<p>When a <code class="docutils literal"><span class="pre">Distribution</span></code> constructor is called:</p>
<ul class="simple">
<li>Without a name argument, it simply constructs a distribution object
and returns it. It won&#8217;t construct a random variable. This object has
properties like <code class="docutils literal"><span class="pre">logp</span></code> (density function) and <code class="docutils literal"><span class="pre">expectation</span></code>.</li>
<li>With a name argument, it constructs a random variable using the
distrubtion object as the prior distribution and inserts this random
variable into the current model. Then the constructor returns the
random variable.</li>
</ul>
<div class="nbinput container">
<div class="highlight-none"><div class="highlight"><pre>
<span></span>In [11]:
</pre></div>
</div>
<div class="highlight-ipython3"><div class="highlight"><pre>
<span></span><span class="n">help</span><span class="p">(</span><span class="n">model</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast container">
<div class="container">
</div>
<div class="container">
<div class="highlight"><pre>
Help on Model in module pymc3.model object:

class Model(Context, Factor)
 |  Encapsulates the variables and likelihood factors of a model.
 |
 |  Method resolution order:
 |      Model
 |      Context
 |      Factor
 |      __builtin__.object
 |
 |  Methods defined here:
 |
 |  TransformedVar(self, name, dist, trans)
 |      Create random variable that after being transformed has the given prior.
 |
 |      Parameters
 |      ----------
 |      name : str
 |      dist : Distribution
 |      trans : Transform
 |
 |      Returns
 |      -------
 |      Random Variable
 |
 |  Var(self, name, dist, data=None)
 |      Create and add (un)observed random variable to the model with an appropriate prior distribution.
 |
 |      Parameters
 |      ----------
 |          name : str
 |          dist : distribution for the random variable
 |          data : arraylike (optional)
 |             if data is provided, the variable is observed. If None, the variable is unobserved.
 |      Returns
 |      -------
 |          FreeRV or ObservedRV
 |
 |  __getitem__(self, key)
 |
 |  __init__(self)
 |
 |  add_random_variable(self, var)
 |      Add a random variable to the named variables of the model.
 |
 |  fastfn(self, outs, mode=None)
 |      Compiles a Theano function which returns `outs` and takes values of model
 |      vars as a dict as an argument.
 |
 |      Parameters
 |      ----------
 |      outs : Theano variable or iterable of Theano variables
 |      mode : Theano compilation mode
 |
 |      Returns
 |      -------
 |      Compiled Theano function as point function.
 |
 |  fn(self, outs, mode=None)
 |      Compiles a Theano function which returns the values of `outs` and takes values of model
 |      vars as arguments.
 |
 |      Parameters
 |      ----------
 |      outs : Theano variable or iterable of Theano variables
 |      mode : Theano compilation mode
 |
 |      Returns
 |      -------
 |      Compiled Theano function
 |
 |  makefn(*args, **kwargs)
 |      Compiles a Theano function which returns `outs` and takes the variable
 |      ancestors of `outs` as inputs.
 |
 |      Parameters
 |      ----------
 |      outs : Theano variable or iterable of Theano variables
 |      mode : Theano compilation mode
 |
 |      Returns
 |      -------
 |      Compiled Theano function
 |
 |  ----------------------------------------------------------------------
 |  Data descriptors defined here:
 |
 |  basic_RVs
 |      List of random variables the model is defined in terms of (which excludes deterministics).
 |
 |  cont_vars
 |      All the continuous variables in the model
 |
 |  logpt
 |      Theano scalar of log-probability of the model
 |
 |  test_point
 |      Test point used to check that the model doesn&#39;t generate errors
 |
 |  unobserved_RVs
 |      List of all random variable, including deterministic ones.
 |
 |  vars
 |      List of unobserved random variables the model is defined in terms of (which excludes deterministics).
 |
 |  ----------------------------------------------------------------------
 |  Data and other attributes defined here:
 |
 |  contexts = []
 |
 |  ----------------------------------------------------------------------
 |  Methods inherited from Context:
 |
 |  __enter__(self)
 |
 |  __exit__(self, typ, value, traceback)
 |
 |  ----------------------------------------------------------------------
 |  Class methods inherited from Context:
 |
 |  get_context(cls) from __builtin__.type
 |      Return the deepest context on the stack.
 |
 |  get_contexts(cls) from __builtin__.type
 |
 |  ----------------------------------------------------------------------
 |  Data descriptors inherited from Context:
 |
 |  __dict__
 |      dictionary for instance variables (if defined)
 |
 |  __weakref__
 |      list of weak references to the object (if defined)
 |
 |  ----------------------------------------------------------------------
 |  Methods inherited from Factor:
 |
 |  d2logp(self, vars=None)
 |      Compiled log probability density hessian function
 |
 |  dlogp(self, vars=None)
 |      Compiled log probability density gradient function
 |
 |  fastd2logp(self, vars=None)
 |      Compiled log probability density hessian function
 |
 |  fastdlogp(self, vars=None)
 |      Compiled log probability density gradient function
 |
 |  ----------------------------------------------------------------------
 |  Data descriptors inherited from Factor:
 |
 |  fastlogp
 |      Compiled log probability density function
 |
 |  logp
 |      Compiled log probability density function
 |
 |  logp_elemwise

</pre></div></div>
</div>
</div>
</div>


           </div>
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2016, John Salvatier, Christopher Fonnesbeck, Thomas Wiecki.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'3.0',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>
      <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  
  
    <script type="text/javascript" src="../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>